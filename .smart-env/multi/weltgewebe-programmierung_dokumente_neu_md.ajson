
"smart_sources:weltgewebe-programmierung/dokumente/neu.md": {"path":"weltgewebe-programmierung/dokumente/neu.md","last_embed":{"hash":null},"embeddings":{},"last_read":{"hash":"16qqgms","at":1757426318440},"class_name":"SmartSource","last_import":{"mtime":1757418392824,"size":60196,"at":1757426318470,"hash":"16qqgms"},"blocks":{"#":[1,9],"#--- Weltgewebe wg v1.5.3 Patch-Installer ---":[10,13],"#--- Weltgewebe wg v1.5.3 Patch-Installer ---#{1}":[11,13],"#0) Repo finden":[14,21],"#0) Repo finden#{1}":[15,21],"#1) Backup anlegen":[22,26],"#1) Backup anlegen#{1}":[23,26],"#2) wg schreiben":[27,28],"#2) wg schreiben#{1}":[28,28],"#!/usr/bin/env bash":[29,29],"#Weltgewebe CLI – v1.5.3 (2025-09-09)":[30,30],"#robust • portabel • PR-only • Lifecycle (up/down/logs/test) • Heal • Snap/Send":[31,31],"#Verbesserungen ggü. 1.5.2:":[32,32],"#- Präziseres Coverage-Gate (lcov bevorzugt, LH/LF-Fallback)":[33,33],"#- kill_by_key mit Età-Filter (+ --force-kill), ps-Fallbacks GNU/BSD":[34,34],"#- stabilere Logrotation, Flag-Validierung, Help/UX ergänzt":[35,35],"#- bats-CLI-Tests per `wg test --bash`":[36,36],"#- Funktionssyntax & Config-Validation gehärtet":[37,41],"#- Funktionssyntax & Config-Validation gehärtet#{1}":[39,41],"#── Helpers / Env ─────────────────────────────────────────────────────────────":[42,47],"#── Helpers / Env ─────────────────────────────────────────────────────────────#{1}":[43,47],"#Farben (abschaltbar via NO_COLOR oder WG_NO_COLOR=1)":[48,63],"#Farben (abschaltbar via NO_COLOR oder WG_NO_COLOR=1)#{1}":[49,63],"#Defaults + Konfig":[64,121],"#Defaults + Konfig#{1}":[65,121],"#Laufzeit/Logs":[122,150],"#Laufzeit/Logs#{1}":[123,150],"#Prozess-Schutz / Targeting":[151,174],"#Prozess-Schutz / Targeting#{1}":[152,174],"#UI":[175,182],"#UI#{1}":[176,182],"#Hilfe":[183,217],"#Hilfe#{1}":[184,217],"#Compose / Curl":[218,222],"#Compose / Curl#{1}":[219,222],"#Core":[223,531],"#Core#{1}":[224,531],"#!/usr/bin/env bash[2]":[532,594],"#!/usr/bin/env bash[2]#{1}":[533,594],"#Dispatcher":[595,629],"#Dispatcher#{1}":[596,629],"#3) Syntax-Check":[630,635],"#3) Syntax-Check#{1}":[631,635],"#4) Minimal-Tests & Cheatsheet anlegen (falls nicht vorhanden)":[636,639],"#4) Minimal-Tests & Cheatsheet anlegen (falls nicht vorhanden)#{1}":[637,639],"#!/usr/bin/env bats":[640,656],"#!/usr/bin/env bats#{1}":[641,656],"#wg Cheatsheet (Kurz) — v1.5.3":[657,669],"#wg Cheatsheet (Kurz) — v1.5.3#{1}":[659,659],"#wg Cheatsheet (Kurz) — v1.5.3#{2}":[660,660],"#wg Cheatsheet (Kurz) — v1.5.3#{3}":[661,661],"#wg Cheatsheet (Kurz) — v1.5.3#{4}":[662,662],"#wg Cheatsheet (Kurz) — v1.5.3#{5}":[663,663],"#wg Cheatsheet (Kurz) — v1.5.3#{6}":[664,665],"#wg Cheatsheet (Kurz) — v1.5.3#{7}":[666,669],"#5) Optionaler Symlink":[670,689],"#5) Optionaler Symlink#{1}":[671,689],"#--- Weltgewebe wg v1.5.2 Patch-Installer ---":[690,704],"#--- Weltgewebe wg v1.5.2 Patch-Installer ---#{1}":[691,704],"#!/usr/bin/env bash[3]":[705,705],"#Weltgewebe CLI – v1.5.2 (2025-09-09)":[706,706],"#+ Coverage-Gate verbessert (lcov bevorzugt, Fallback, Hinweis)":[707,707],"#+ kill_by_key: Età-Filter, --force-kill, portablere ps-Fallbacks":[708,708],"#+ wg test --bash (bats)":[709,709],"#+ Help/UX/Doku-Verbesserungen":[710,719],"#+ Help/UX/Doku-Verbesserungen#{1}":[712,719],"#Colors":[720,740],"#Colors#{1}":[721,740],"#Config-Hierarchie":[741,810],"#Config-Hierarchie#{1}":[742,810],"#Prozess-Schutz (nur eigene Dev-Prozesse)":[811,821],"#Prozess-Schutz (nur eigene Dev-Prozesse)#{1}":[812,821],"#Portabler Kill mit Età-Filter; --force-kill überspringt Età-Check":[822,824],"#Portabler Kill mit Età-Filter; --force-kill überspringt Età-Check#{1}":[823,824],"#ps-Fallbacks: bevorzugt pid,comm; sonst aux":[825,829],"#ps-Fallbacks: bevorzugt pid,comm; sonst aux#{1}":[826,829],"#Età (Laufzeit) prüfen und >1 Tag alte PIDs auslassen (sicherheitsbewusst)":[830,1189],"#Età (Laufzeit) prüfen und >1 Tag alte PIDs auslassen (sicherheitsbewusst)#{1}":[831,1189],"#!/usr/bin/env bash[4]":[1190,1252],"#!/usr/bin/env bash[4]#{1}":[1191,1252],"#Dispatcher[2]":[1253,1287],"#Dispatcher[2]#{1}":[1254,1287],"#Syntax-Check":[1288,1293],"#Syntax-Check#{1}":[1289,1293],"#Minimal-Tests & Cheatsheet anlegen (falls nicht vorhanden)":[1294,1297],"#Minimal-Tests & Cheatsheet anlegen (falls nicht vorhanden)#{1}":[1295,1297],"#!/usr/bin/env bats[2]":[1298,1313],"#!/usr/bin/env bats[2]#{1}":[1299,1313],"#wg Cheatsheet (Kurz)":[1314,1326],"#wg Cheatsheet (Kurz)#{1}":[1316,1316],"#wg Cheatsheet (Kurz)#{2}":[1317,1317],"#wg Cheatsheet (Kurz)#{3}":[1318,1318],"#wg Cheatsheet (Kurz)#{4}":[1319,1319],"#wg Cheatsheet (Kurz)#{5}":[1320,1320],"#wg Cheatsheet (Kurz)#{6}":[1321,1322],"#wg Cheatsheet (Kurz)#{7}":[1323,1326],"#Optionaler Symlink":[1327,1337],"#Optionaler Symlink#{1}":[1328,1337]},"outlinks":[{"title":" -n \"${CODESPACES-}${GITHUB_CODESPACES-}\" ","target":"-n \"${CODESPACES-}${GITHUB_CODESPACES-}\"","line":45},{"title":"| \"${WG_NO_COLOR-0}\" = \"1\" ","target":"-n \"${NO_COLOR-}\"","line":49},{"title":" -n \"$r\" ","target":"-n \"$r\"","line":58},{"title":" -f \"$f\" ","target":"-f \"$f\"","line":75},{"title":"| \"$k\" =~ ^# ","target":"-z \"$k\"","line":77},{"title":" -f \"$ROOT_DIR/.wg.conf\" ","target":"-f \"$ROOT_DIR/.wg.conf\"","line":91},{"title":" -f \"$HOME/.config/wg/config\" ","target":"-f \"$HOME/.config/wg/config\"","line":92},{"title":" -n \"$LOG_FILE\" ","target":"-n \"$LOG_FILE\"","line":99},{"title":" -d \"$ROOT_DIR/.git\" ","target":"-d \"$ROOT_DIR/.git\"","line":104},{"title":" -f \"$f\" ","target":"-f \"$f\"","line":132},{"title":" -f \"${f}.${i}.gz\" ","target":"-f \"${f}.${i}.gz\"","line":134},{"title":" -f \"$f\" ","target":"-f \"$f\"","line":139},{"title":" -f \"$pidf\" ","target":"-f \"$pidf\"","line":148},{"title":"bun|npm|pnpm)$ ","target":"\"$1\" =~ ^(node","line":152},{"title":" -r \"/proc/$1/environ\" ","target":"-r \"/proc/$1/environ\"","line":153},{"title":" \"$force\" != \"--force-kill\" ","target":"\"$force\" != \"--force-kill\"","line":167},{"title":" -n \"$(git -C \"$ROOT_DIR\" ls-files --others --exclude-standard)\" ","target":"-n \"$(git -C \"$ROOT_DIR\" ls-files --others --exclude-standard)\"","line":245},{"title":" -n \"$prn\" ","target":"-n \"$prn\"","line":256},{"title":" -x \"$HOME/.bun/bin/bun\" ","target":"-x \"$HOME/.bun/bin/bun\"","line":263},{"title":" -n \"$d\" ","target":"-n \"$d\"","line":266},{"title":" -x \"$bun_bin\" ","target":"-x \"$bun_bin\"","line":276},{"title":" -z \"$bun_bin\" ","target":"-z \"$bun_bin\"","line":276},{"title":" -f \"$ROOT_DIR/infra/compose.dev.yml\" ","target":"-f \"$ROOT_DIR/infra/compose.dev.yml\"","line":290},{"title":" -f \"$ROOT_DIR/apps/api-elysia/package.json\" ","target":"-f \"$ROOT_DIR/apps/api-elysia/package.json\"","line":295},{"title":" -f \"$ROOT_DIR/apps/web/package.json\" ","target":"-f \"$ROOT_DIR/apps/web/package.json\"","line":300},{"title":" -f \"$ROOT_DIR/infra/compose.dev.yml\" ","target":"-f \"$ROOT_DIR/infra/compose.dev.yml\"","line":327},{"title":" $# -gt 0 ","target":"$# -gt 0","line":340},{"title":" -f \"$API_LOG\" ","target":"-f \"$API_LOG\"","line":350},{"title":" -f \"$WEB_LOG\" ","target":"-f \"$WEB_LOG\"","line":351},{"title":" \"$a\" == \"--bash\" ","target":"\"$a\" == \"--bash\"","line":359},{"title":" \"$a\" == \"--smoke\" ","target":"\"$a\" == \"--smoke\"","line":359},{"title":" -f \"$lcovf\" ","target":"-f \"$lcovf\"","line":372},{"title":" -z \"$pct\" && -f \"$lcovf\" ","target":"-z \"$pct\" && -f \"$lcovf\"","line":375},{"title":" \"${LF:-0}\" -gt 0 ","target":"\"${LF:-0}\" -gt 0","line":378},{"title":" -z \"$pct\" ","target":"-z \"$pct\"","line":380},{"title":" \"${WG_ALLOW_NO_K6-0}\" != \"1\" ","target":"\"${WG_ALLOW_NO_K6-0}\" != \"1\"","line":394},{"title":" \"${1-}\" == \"--auto\" ","target":"\"${1-}\" == \"--auto\"","line":409},{"title":" -e \"$ROOT_DIR/$p\" ","target":"-e \"$ROOT_DIR/$p\"","line":411},{"title":" -e \"$ROOT_DIR/$p\" ","target":"-e \"$ROOT_DIR/$p\"","line":413},{"title":" \"${1-}\" == \"--stash\" ","target":"\"${1-}\" == \"--stash\"","line":431},{"title":" $# -gt 0 ","target":"$# -gt 0","line":444},{"title":" $# -gt 0 ","target":"$# -gt 0","line":457},{"title":" \"$br\" == \"$MAIN\" ","target":"\"$br\" == \"$MAIN\"","line":463},{"title":" -n \"$pr\" ","target":"-n \"$pr\"","line":481},{"title":" \"$br\" == \"$MAIN\" ","target":"\"$br\" == \"$MAIN\"","line":488},{"title":" -n \"$pr\" ","target":"-n \"$pr\"","line":490},{"title":"-y)$ ","target":"\"${1-}\" =~ ^(--apply","line":520},{"title":" -f \"$cfg\" ","target":"-f \"$cfg\"","line":571},{"title":" -n \"${2-}\" ","target":"-n \"${2-}\"","line":574},{"title":" -n \"${2-}\" ","target":"-n \"${2-}\"","line":576},{"title":" \"$output\" =~ \"wg v\" ","target":"\"$output\" =~ \"wg v\"","line":644},{"title":" \"$output\" =~ \"--tail braucht Zahl\" ","target":"\"$output\" =~ \"--tail braucht Zahl\"","line":649},{"title":" -n \"${CODESPACES-}${GITHUB_CODESPACES-}\" ","target":"-n \"${CODESPACES-}${GITHUB_CODESPACES-}\"","line":717},{"title":"| \"${WG_NO_COLOR-0}\" = \"1\" ","target":"-n \"${NO_COLOR-}\"","line":721},{"title":" -n \"$r\" ","target":"-n \"$r\"","line":729},{"title":" -f \"$f\" ","target":"-f \"$f\"","line":742},{"title":"| \"$k\" =~ ^# ","target":"-z \"$k\"","line":744},{"title":" -f \"$ROOT_DIR/.wg.conf\" ","target":"-f \"$ROOT_DIR/.wg.conf\"","line":757},{"title":" -f \"$HOME/.config/wg/config\" ","target":"-f \"$HOME/.config/wg/config\"","line":758},{"title":" -n \"$LOG_FILE\" ","target":"-n \"$LOG_FILE\"","line":765},{"title":" -d \"$ROOT_DIR/.git\" ","target":"-d \"$ROOT_DIR/.git\"","line":770},{"title":" -f \"$f\" ","target":"-f \"$f\"","line":792},{"title":" -f \"${f}.${i}.gz\" ","target":"-f \"${f}.${i}.gz\"","line":794},{"title":" -f \"$f\" ","target":"-f \"$f\"","line":799},{"title":" -f \"$pidf\" ","target":"-f \"$pidf\"","line":808},{"title":"bun|npm|pnpm)$ ","target":"\"$1\" =~ ^(node","line":812},{"title":" -r \"/proc/$1/environ\" ","target":"-r \"/proc/$1/environ\"","line":813},{"title":" \"$force\" != \"--force-kill\" ","target":"\"$force\" != \"--force-kill\"","line":829},{"title":" -n \"$(git -C \"$ROOT_DIR\" ls-files --others --exclude-standard)\" ","target":"-n \"$(git -C \"$ROOT_DIR\" ls-files --others --exclude-standard)\"","line":904},{"title":" -n \"$prn\" ","target":"-n \"$prn\"","line":915},{"title":" -x \"$HOME/.bun/bin/bun\" ","target":"-x \"$HOME/.bun/bin/bun\"","line":921},{"title":" -n \"$d\" ","target":"-n \"$d\"","line":924},{"title":" -x \"$bun_bin\" ","target":"-x \"$bun_bin\"","line":934},{"title":" -z \"$bun_bin\" ","target":"-z \"$bun_bin\"","line":934},{"title":" -f \"$ROOT_DIR/infra/compose.dev.yml\" ","target":"-f \"$ROOT_DIR/infra/compose.dev.yml\"","line":948},{"title":" -f \"$ROOT_DIR/apps/api-elysia/package.json\" ","target":"-f \"$ROOT_DIR/apps/api-elysia/package.json\"","line":953},{"title":" -f \"$ROOT_DIR/apps/web/package.json\" ","target":"-f \"$ROOT_DIR/apps/web/package.json\"","line":958},{"title":" -f \"$ROOT_DIR/infra/compose.dev.yml\" ","target":"-f \"$ROOT_DIR/infra/compose.dev.yml\"","line":985},{"title":" $# -gt 0 ","target":"$# -gt 0","line":998},{"title":" -f \"$API_LOG\" ","target":"-f \"$API_LOG\"","line":1008},{"title":" -f \"$WEB_LOG\" ","target":"-f \"$WEB_LOG\"","line":1009},{"title":" \"$a\" == \"--bash\" ","target":"\"$a\" == \"--bash\"","line":1017},{"title":" \"$a\" == \"--smoke\" ","target":"\"$a\" == \"--smoke\"","line":1017},{"title":" -f \"$lcov\" ","target":"-f \"$lcov\"","line":1030},{"title":" -z \"$pct\" && -f \"$lcov\" ","target":"-z \"$pct\" && -f \"$lcov\"","line":1033},{"title":" \"${LF:-0}\" -gt 0 ","target":"\"${LF:-0}\" -gt 0","line":1036},{"title":" -z \"$pct\" ","target":"-z \"$pct\"","line":1038},{"title":" \"${WG_ALLOW_NO_K6-0}\" != \"1\" ","target":"\"${WG_ALLOW_NO_K6-0}\" != \"1\"","line":1052},{"title":" \"${1-}\" == \"--auto\" ","target":"\"${1-}\" == \"--auto\"","line":1067},{"title":" -e \"$ROOT_DIR/$p\" ","target":"-e \"$ROOT_DIR/$p\"","line":1069},{"title":" -e \"$ROOT_DIR/$p\" ","target":"-e \"$ROOT_DIR/$p\"","line":1071},{"title":" \"${1-}\" == \"--stash\" ","target":"\"${1-}\" == \"--stash\"","line":1089},{"title":" $# -gt 0 ","target":"$# -gt 0","line":1102},{"title":" $# -gt 0 ","target":"$# -gt 0","line":1115},{"title":" \"$br\" == \"$MAIN\" ","target":"\"$br\" == \"$MAIN\"","line":1121},{"title":" -n \"$pr\" ","target":"-n \"$pr\"","line":1139},{"title":" \"$br\" == \"$MAIN\" ","target":"\"$br\" == \"$MAIN\"","line":1146},{"title":" -n \"$pr\" ","target":"-n \"$pr\"","line":1148},{"title":"-y)$ ","target":"\"${1-}\" =~ ^(--apply","line":1178},{"title":" -f \"$cfg\" ","target":"-f \"$cfg\"","line":1229},{"title":" -n \"${2-}\" ","target":"-n \"${2-}\"","line":1232},{"title":" -n \"${2-}\" ","target":"-n \"${2-}\"","line":1234},{"title":" \"$output\" =~ \"wg v\" ","target":"\"$output\" =~ \"wg v\"","line":1302},{"title":" \"$output\" =~ \"--tail braucht Zahl\" ","target":"\"$output\" =~ \"--tail braucht Zahl\"","line":1307}]},